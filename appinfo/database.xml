<?xml version="1.0" encoding="UTF-8" ?>
<database>
	<name>*dbname*</name>
	<create>true</create>
	<overwrite>false</overwrite>
	<charset>utf8</charset>

	<table>
		<name>*dbprefix*ocsms_user_datas</name>
		<declaration>
			<field>
				<name>user_id</name>
				<type>text</type>
				<notnull>true</notnull>
				<length>64</length>
			</field>
			<field>
				<name>datakey</name>
				<type>text</type>
				<notnull>true</notnull>
				<length>64</length>
			</field>
			<field>
				<name>datavalue</name>
				<type>text</type>
				<length>64</length>
				<notnull>true</notnull>
			</field>
			<index>
				<name>user_datas_user_datakey</name>
				<field>
					<name>user_id</name>
				</field>
				<field>
					<name>datakey</name>
				</field>
			</index>
		</declaration>
	</table>
	<table>
		<name>*dbprefix*ocsms_smsdatas</name>
		<declaration>
			<field>
				<name>id</name>
				<type>integer</type>
				<default>0</default>
				<notnull>true</notnull>
				<autoincrement>1</autoincrement>
				<length>10</length>
				<primary>true</primary>
			</field>
			<field>
				<name>user_id</name>
				<type>text</type>
				<notnull>true</notnull>
				<length>64</length>
			</field>
			<field>
				<name>added</name>
				<type>timestamp</type>
				<notnull>true</notnull>
				<default>1970-01-01 00:00:00</default>
			</field>
			<field>
				<name>lastmodified</name>
				<type>timestamp</type>
				<notnull>true</notnull>
				<default>1970-01-01 00:00:00</default>
			</field>
			<field>
				<name>sms_id</name>
				<type>integer</type>
				<notnull>true</notnull>
				<length>5</length>
			</field>
			<field>
				<name>sms_address</name>
				<type>text</type>
				<notnull>true</notnull>
				<length>512</length>
			</field>
			<field>
				<name>sms_msg</name>
				<type>text</type>
				<notnull>true</notnull>
				<length>10240</length>
			</field>
			<field>
				<name>sms_date</name>
				<type>integer</type>
				<notnull>true</notnull>
				<length>10</length>
			</field>
			<field>
				<name>sms_flags</name>
				<type>text</type>
				<notnull>true</notnull>
				<default>00</default>
				<length>2</length>
			</field>
			<field>
				<name>sms_mailbox</name>
				<type>integer</type>
				<notnull>true</notnull>
				<length>1</length>
			</field>
			<field>
				<name>sms_type</name>
				<type>integer</type>
				<notnull>true</notnull>
				<length>1</length>
			</field>
			<index>
				<name>smsdata_user_mailbox</name>
				<field>
					<name>user_id</name>
				</field>
				<field>
					<name>sms_mailbox</name>
				</field>
			</index>
			<index>
				<name>smsdata_user_smsid</name>
				<field>
					<name>user_id</name>
				</field>
				<field>
					<name>sms_id</name>
				</field>
			</index>
			<index>
				<name>smsdata_user_mailbox_date</name>
				<field>
					<name>user_id</name>
				</field>
				<field>
					<name>sms_mailbox</name>
				</field>
				<field>
					<name>sms_date</name>
				</field>
			</index>
			<index>
				<name>smsdata_user_mailbox_address</name>
				<field>
					<name>user_id</name>
				</field>
				<field>
					<name>sms_mailbox</name>
				</field>
				<field>
					<name>sms_address</name>
				</field>
			</index>
			<index>
				<name>smsdata_user_mailbox_address_date</name>
				<field>
					<name>user_id</name>
				</field>
				<field>
					<name>sms_mailbox</name>
				</field>
				<field>
					<name>sms_address</name>
				</field>
				<field>
					<name>sms_date</name>
				</field>
			</index>
		</declaration>
	</table>
	<table>
		<name>*dbprefix*ocsms_conversations</name>
		<declaration>
			<field>
				<name>id</name>
				<type>text</type>
				<notnull>true</notnull>
				<length>64</length>
				<primary>true</primary>
			</field>
			<field>
				<name>user_id</name>
				<type>text</type>
				<notnull>true</notnull>
				<length>64</length>
			</field>
			<field>
				<name>phone_number</name>
				<type>text</type>
				<notnull>true</notnull>
				<length>512</length>
			</field>
			<index>
				<name>smsdata_conversations_user_id_address</name>
				<field>
					<name>id</name>
				</field>
				<field>
					<name>sms_address</name>
				</field>
			</index>
		</declaration>
	</table>
	<table>
		<name>*dbprefix*ocsms_sendmessage_queue</name>
		<declaration>
			<field>
				<name>id</name>
				<type>integer</type>
				<default>0</default>
				<notnull>true</notnull>
				<autoincrement>1</autoincrement>
				<length>10</length>
				<primary>true</primary>
			</field>
			<field>
				<name>user_id</name>
				<type>text</type>
				<notnull>true</notnull>
				<length>64</length>
			</field>
			<field>
				<name>sms_address</name>
				<type>text</type>
				<notnull>true</notnull>
				<length>64</length>
			</field>
			<field>
				<name>sms_msg</name>
				<type>text</type>
				<notnull>true</notnull>
				<length>2048</length>
			</field>
		</declaration>
	</table>
	<table>
		<name>*dbprefix*ocsms_conversation_read_states</name>
		<declaration>
			<field>
				<name>user_id</name>
				<type>text</type>
				<notnull>true</notnull>
				<length>64</length>
			</field>
			<field>
				<name>phone_number</name>
				<type>text</type>
				<notnull>true</notnull>
				<length>64</length>
			</field>
			<field>
				<name>int_date</name>
				<type>integer</type>
				<length>32</length>
				<notnull>true</notnull>
			</field>
			<index>
				<name>sms_conversation_rs_pkey</name>
				<field>
					<name>user_id</name>
				</field>
				<field>
					<name>phone_number</name>
				</field>
			</index>
		</declaration>
	</table>
	<table>
        <name>*dbprefix*ocsms_config</name>
        <declaration>
            <field>
                <name>user</name>
                <type>text</type>
                <notnull>true</notnull>
                <length>255</length>
            </field>
            <field>
                <name>key</name>
                <type>text</type>
                <notnull>true</notnull>
                <length>255</length>
            </field>
            <field>
                <name>value</name>
                <type>text</type>
                <notnull>false</notnull>
                <length>10240</length>
            </field>
			<index>
				<name>config_user_key</name>
				<field>
					<name>user</name>
				</field>
				<field>
					<name>key</name>
				</field>
			</index>
        </declaration>
    </table>
</database>
